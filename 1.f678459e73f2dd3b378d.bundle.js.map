{"version":3,"sources":["webpack:///./src/components/debug/debug.html","webpack:///./src/components/debug/debug.js"],"names":["module","exports","DebugComponent","HTMLElement","super","this","innerHTML","log","querySelector","temp","hum","pres","sendButton","deleteButton","refresh","addEventListener","then","value","response","data","document","createElement","i","length","dataLine","innerText","Date","time","toLocaleString","temperature","humidity","pressure","sensor_id","appendChild","console","customElements","define"],"mappings":"0EAGAA,EAAOC,QAFI,uS,gCCDX,gFAQO,MAAMC,UAAuBC,YAEhC,cACIC,QACAC,KAAKC,UAAY,EAGrB,oBACID,KAAKE,IAAMF,KAAKG,cAAc,WAC9BH,KAAKI,KAAOJ,KAAKG,cAAc,SAC/BH,KAAKK,IAAML,KAAKG,cAAc,QAC9BH,KAAKM,KAAON,KAAKG,cAAc,SAC/BH,KAAKO,WAAaP,KAAKG,cAAc,SACrCH,KAAKQ,aAAeR,KAAKG,cAAc,WACvCH,KAAKS,UAELT,KAAKQ,aAAaE,iBAAiB,QAAS,IACxC,cAAiBC,KAAK,KAClBX,KAAKS,aAEbT,KAAKO,WAAWG,iBAAiB,QAAS,KACtC,YAAgB,IAAKV,KAAKI,KAAKQ,MAC3BZ,KAAKK,IAAIO,MACTZ,KAAKM,KAAKM,OAAOD,KAAK,IAClBX,KAAKS,aAIrB,UACI,cAAkBE,KAAKE,IACnBb,KAAKE,IAAID,UAAY,GAErB,IADA,IAAIa,EAAOC,SAASC,cAAc,OACzBC,EAAIJ,EAASK,OAAS,EAAGD,GAAK,EAAGA,IAAK,CAC3C,IAAIE,EAAWJ,SAASC,cAAc,OAEtCG,EAASC,UAAY,IAAKC,KAAKR,EAASI,GAAGK,MAAOC,iBAAmB,IAAMV,EAASI,GAAGO,YAAc,MAAQX,EAASI,GAAGQ,SAAW,KAAOZ,EAASI,GAAGS,SAAlI,QAA4Jb,EAASI,GAAGU,UAC7Lb,EAAKc,YAAYT,GAErBnB,KAAKE,IAAI0B,YAAYd,GACrBe,QAAQ3B,IAAIW,MAKxBiB,eAAeC,OAAO,sBAAuBlC","file":"1.f678459e73f2dd3b378d.bundle.js","sourcesContent":["// Module\nvar code = \"<div id=debugTools> <button id=delete>delete database</button> <input id=temp type=text placeholder=\\\"Temperature in °C\\\"> <input id=hum type=text placeholder=\\\"Humidity in %\\\"> <input id=pres type=text placeholder=\\\"Pressure in mbar\\\"> <button id=send>submit</button> <div id=output></div> </div>\";\n// Exports\nmodule.exports = code;","import * as template from \"./debug.html\";\nimport { environment } from \"../../environment\";\nimport {\n    getMeasurements,\n    sendMeasurement,\n    deleteDatabase\n} from \"../../api/api\";\n\nexport class DebugComponent extends HTMLElement {\n\n    constructor() {\n        super();\n        this.innerHTML = template;\n    }\n\n    connectedCallback() {\n        this.log = this.querySelector(\"#output\");\n        this.temp = this.querySelector(\"#temp\");\n        this.hum = this.querySelector(\"#hum\");\n        this.pres = this.querySelector(\"#pres\");\n        this.sendButton = this.querySelector(\"#send\");\n        this.deleteButton = this.querySelector(\"#delete\");\n        this.refresh();\n\n        this.deleteButton.addEventListener(\"click\", () =>\n            deleteDatabase().then(() => {\n                this.refresh();\n            }));\n        this.sendButton.addEventListener(\"click\", () => {\n            sendMeasurement(\"0\", this.temp.value,\n                this.hum.value,\n                this.pres.value).then(() =>\n                    this.refresh());\n        });\n    }\n\n    refresh() {\n        getMeasurements().then(response => {\n            this.log.innerHTML = \"\";\n            var data = document.createElement(\"div\");\n            for (var i = response.length - 1; i >= 0; i--) {\n                var dataLine = document.createElement(\"div\");\n                // data.innerHTML += (new Date(response[i].time)).toLocaleString() + \" \" + response[i].temperature + \"°C \" + response[i].humidity + \"% \" + response[i].pressure + \"mbar\" + \" \" + response[i].id + '<br />';\n                dataLine.innerText = (new Date(response[i].time)).toLocaleString() + \" \" + response[i].temperature + \"°C \" + response[i].humidity + \"% \" + response[i].pressure + \"mbar\" + \" \" + response[i].sensor_id;\n                data.appendChild(dataLine);\n            }\n            this.log.appendChild(data)\n            console.log(response);\n        });\n    }\n\n}\ncustomElements.define('app-debug-component', DebugComponent);"],"sourceRoot":""}