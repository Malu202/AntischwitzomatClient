!function(t){var i={};function e(s){if(i[s])return i[s].exports;var h=i[s]={i:s,l:!1,exports:{}};return t[s].call(h.exports,h,h.exports,e),h.l=!0,h.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var h in t)e.d(s,h,function(i){return t[i]}.bind(null,h));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="/AntischwitzomatClient/",e(e.s=6)}([function(t,i){t.exports='<div class="mdc-card gauges" id=gauges> <div id=tempGauge></div> <div id=humGauge></div> <div id=presGauge></div> </div> <div id=tempPlot class=mdc-card></div>'},function(t,i){t.exports="<h1>Configure Me Rooms!</h1>"},function(t,i){(function(){"use strict";function t(t,i,e,s,h,a,n,o){this.initialize(t,i,e,s,h,a,n,o),window.addEventListener("resize",function(t){this.initialize(this.div,this.prefix,this.value,this.suffix,this.min,this.max,this.background,this.textColor),this.setValue(e)}.bind(this))}window.Gauge=t,t.prototype.initialize=function(t,i,e,s,h,a,n,o){this.doWhenLoaded((function(){this.div=t,this.prefix=i,this.value=e,this.suffix=s,this.min=h,this.max=a,this.background=n,this.textColor=o,this.generateCanvas(t),this.size=this.height<this.width?this.height:this.width,this.min=h,this.max=a,this.canvas.style["background-color"]=n,this.textColor=o}))},t.prototype.generateCanvas=function(t){var i=window.devicePixelRatio||1,e=t.getBoundingClientRect(),s=document.createElement("canvas");this.width=Math.round(e.width),this.height=Math.round(e.height),s.width=this.width*i,s.height=this.height*i,this.ctx=s.getContext("2d"),this.ctx.scale(i,i),t.style.position="relative",t.style.overflow="hidden",t.style.top="0px",t.style.left="0px",s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style.height=this.height+"px",s.style.width=this.width+"px",t.innerHTML="",t.appendChild(s),this.canvas=s},t.prototype.setValue=function(t,e){null==e&&(e=t),this.ctx.clearRect(0,0,this.width,this.height);for(var s=(this.max+"").length-(e+"").length,h="",a=0;a<s;a++)h=" "+h;e=h+this.prefix+e+this.suffix+"",this.ctx.font="bold "+this.size/e.length+"px Arial, Helvetica, sans-serif",this.ctx.fillStyle=this.textColor,this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(e,this.width/2,this.height/2),t=(t-this.min)/(this.max-this.min),this.ctx.beginPath(),this.ctx.lineWidth=.08*this.size,e=new i(0,0,255),s=new i(255,0,0),this.ctx.strokeStyle=e.mix(s,t).rgb(),this.ctx.arc(this.width/2,this.height/2,.9*this.size/2,Math.PI-Math.PI/4,Math.PI/4-(1-t)*(Math.PI+Math.PI/2),!1),this.ctx.stroke()},t.prototype.animateValue=function(t,i){this.doWhenLoaded((function(){this.currentValue=this.min,this.value=t,this.animationTime=i,window.requestAnimationFrame(this.animation.bind(this))}))};function i(t,e,s){this.r=t,this.g=e,this.b=s,this.rgb=function(){return"rgb("+this.r+","+this.g+","+this.b+")"},this.mix=function(t,e){var s=this.r-e*(this.r-t.r),h=this.g-e*(this.g-t.g);return t=this.b-e*(this.b-t.b),new i(s*(e=255/Math.max(s,h,t)),h*e,t*e)}}t.prototype.animation=function(t){if(this.lastTime){var i=t-this.lastTime;this.lastTime=t,this.currentValue+=(this.value-this.min)*i/this.animationTime}else this.firstTime=this.lastTime=t;this.setValue(this.currentValue,this.value),this.currentValue<this.value?window.requestAnimationFrame(this.animation.bind(this)):this.setValue(this.value,this.value)};var e=!1;window.addEventListener("load",(function(){e=!0})),t.prototype.doWhenLoaded=function(t){e?t.bind(this)():window.addEventListener("load",function(){t.bind(this)()}.bind(this))}}).call(this)},function(t,i,e){(function(t){(function(){"use strict";var i=i||{};function e(t,i){this.div=t,this.config=i,this.initialize(t,i),window.addEventListener("resize",function(t){this.initialize(this.div,this.config)}.bind(this))}function s(t,i){return Math.floor(t*Math.pow(10,i))/Math.pow(10,i)}function h(t,i){return Math.ceil(t*Math.pow(10,i))/Math.pow(10,i)}function a(t,i,e,s){for(var h=[],a=0;a<t.length;a++)h[a]=i*(t[a]-e)+s;return h}function n(t,i,e,s,h){for(var a=[],n=0;n<t.length;n++)a[n]=h-i*(t[n]-e)-s;return a}function o(t,i,e,s,h,a){i/=s/=20,e/=s,a.save(),a.font="20px Arial, Helvetica, sans-serif",a.fillStyle=h,a.scale(s,s),a.textAlign="center",a.textBaseline="middle",a.fillText(t,i,e),a.restore()}function l(t,i,e,s,h){h.beginPath(),h.strokeStyle=t,h.lineWidth=1,h.moveTo(i,e),h.lineTo(i+s,e),h.stroke()}function r(t,i,e,s,h){h.beginPath(),h.strokeStyle=t,h.lineWidth=1,h.moveTo(i,e),h.lineTo(i,e-s),h.stroke()}function g(t,i,e,s,h,a,n){for(var o=0;o<t.length;o++)u(t[o],i[o],e,s,h,a,n)}i.scope={},i.ASSUME_ES5=!1,i.ASSUME_NO_NATIVE_MAP=!1,i.ASSUME_NO_NATIVE_SET=!1,i.SIMPLE_FROUND_POLYFILL=!1,i.defineProperty=i.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,i,e){t!=Array.prototype&&t!=Object.prototype&&(t[i]=e.value)},i.getGlobal=function(i){return"undefined"!=typeof window&&window===i?i:void 0!==t&&null!=t?t:i},i.global=i.getGlobal(this),i.polyfill=function(t,e,s,h){if(e){for(s=i.global,t=t.split("."),h=0;h<t.length-1;h++){var a=t[h];a in s||(s[a]={}),s=s[a]}(e=e(h=s[t=t[t.length-1]]))!=h&&null!=e&&i.defineProperty(s,t,{configurable:!0,writable:!0,value:e})}},i.polyfill("Array.prototype.fill",(function(t){return t||function(t,i,e){var s=this.length||0;for(0>i&&(i=Math.max(0,s+i)),(null==e||e>s)&&(e=s),0>(e=Number(e))&&(e=Math.max(0,s+e)),i=Number(i||0);i<e;i++)this[i]=t;return this}}),"es6","es3"),window.Plot=e,e.prototype.initialize=function(t,i){this.doWhenLoaded((function(){for(var e in this.generateCanvas(t),i)this[e]=i[e];this.applyDefaultSettings(),this.bottomMargin=0,this.ctx=this.canvas.getContext("2d"),this.canvas.style["background-color"]=this.backgroundColor,this.calculateDataRanges(),this.calculateDrawingRanges(),this.calculateDrawingProperties(),this.scaleData(),this.draw()}))},e.prototype.generateCanvas=function(t){var i=window.devicePixelRatio||1,e=t.getBoundingClientRect(),s=document.createElement("canvas");this.width=Math.round(e.width),this.height=Math.round(e.height),s.width=this.width*i,s.height=this.height*i,this.ctx=s.getContext("2d"),this.ctx.scale(i,i),t.style.position="relative",t.style.overflow="hidden",t.style.top="0px",t.style.left="0px",s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style.height=this.height+"px",s.style.width=this.width+"px",t.innerHTML="",t.appendChild(s),this.canvas=s},e.prototype.applyDefaultSettings=function(){var t,i={backgroundColor:"#4caf50",xAxisSize:.05,yAxisSize:.05,topMargin:.05,rightMargin:.05,xAxisLabelMaxDecimals:2,yAxisLabelMaxDecimals:2,yAxisLabelSuffix:"",yAxisLabelPrefix:"",xAxisLabelSuffix:"",xAxisLabelPrefix:"",xAxisMaxLabels:11,yAxisMaxLabels:15,drawGridLineX:!0,drawGridLineY:!0,preferredLabelStepsX:[1,2,2.5,5],preferredLabelStepsY:[1,2,2.5,5],equalLabelSize:!0},e={type:"line",color:"#fff",linewidth:5,dataPointRadius:4,dataPointLinewidth:2,xHighlight:[],yHighlight:[]},s={color:"#fff",shadowColor:"#80e27e",linewidth:4,dataPointRadius:1.5,xHighlight:[],yHighlight:[]};for(t in i)null==this[t]&&(this[t]=i[t]);for(i=this.graphs.length,t=0;t<i;t++)if("shadow"==this.graphs[t].type)for(var h in s)null==this.graphs[t][h]&&(this.graphs[t][h]=s[h]);else for(h in e)null==this.graphs[t][h]&&(this.graphs[t][h]=e[h])},e.prototype.calculateDataRanges=function(){this.allXData=[],this.allYData=[];for(var t=0;t<this.graphs.length;t++)this.allXData=this.allXData.concat(this.graphs[t].x),this.allXData=this.allXData.concat(this.graphs[t].xHighlight),this.allYData=this.allYData.concat(this.graphs[t].y),this.allYData=this.allYData.concat(this.graphs[t].yHighlight);this.minX=Math.min.apply(null,this.allXData),this.minY=Math.min.apply(null,this.allYData),this.maxX=Math.max.apply(null,this.allXData),this.maxY=Math.max.apply(null,this.allYData),this.xDataRange=this.maxX-this.minX,this.yDataRange=this.maxY-this.minY,this.orderX=.1*p(this.xDataRange),(t=Math.pow(10,-this.xAxisLabelMaxDecimals))>this.orderX&&(this.orderX=t),this.decimalsX=-x(this.orderX),this.orderY=.1*p(this.yDataRange),(t=Math.pow(10,-this.yAxisLabelMaxDecimals))>this.orderY&&(this.orderY=t),this.decimalsY=-x(this.orderY)},e.prototype.calculateDrawingRanges=function(t,i,e,a){this.minPlottingX=null==t?s(Math.min.apply(null,this.allXData),this.decimalsX):t,this.minPlottingY=null==i?s(Math.min.apply(null,this.allYData),this.decimalsY):i,this.maxPlottingX=null==e?h(Math.max.apply(null,this.allXData),this.decimalsX):e,this.maxPlottingY=null==a?h(Math.max.apply(null,this.allYData),this.decimalsY):a,this.xPlottingRange=this.maxPlottingX-this.minPlottingX,this.yPlottingRange=this.maxPlottingY-this.minPlottingY,this.xScaling=this.width/this.xPlottingRange,this.yScaling=this.height/this.yPlottingRange,this.yScaling*=1-(this.topMargin+this.bottomMargin+this.xAxisSize),this.xScaling*=1-this.yAxisSize-this.rightMargin,this.bottomOffset=(this.bottomMargin+this.xAxisSize)*this.height,this.topOffset=this.topMargin*this.height,this.leftOffset=this.yAxisSize*this.width,this.rightOffset=this.rightMargin*this.width,this.bottom=this.height},e.prototype.scaleData=function(){for(var t=0;t<this.graphs.length;t++)this.graphs[t].xCoordinates=a(this.graphs[t].x,this.xScaling,this.minPlottingX,this.leftOffset),this.graphs[t].yCoordinates=n(this.graphs[t].y,this.yScaling,this.minPlottingY,this.bottomOffset,this.bottom),this.graphs[t].xCoordinatesHighlight=a(this.graphs[t].xHighlight,this.xScaling,this.minPlottingX,this.leftOffset),this.graphs[t].yCoordinatesHighlight=n(this.graphs[t].yHighlight,this.yScaling,this.minPlottingY,this.bottomOffset,this.bottom)},e.prototype.calculateLabelHeightYaxis=function(){var t=d(this.maxPlottingY+this.dataStepSizeY,this.yAxisLabelMaxDecimals);isNaN(t)&&!isNaN(this.maxPlottingY+this.dataStepSizeY)&&console.error("To many decimals, or numbers to long, cannot round, try reducing MaxDecimals"),this.longestLabelY=t.toString().length+this.yAxisLabelPrefix.length+this.yAxisLabelSuffix.length,this.labelHeightY=1.5*this.yAxisWidth/this.longestLabelY},e.prototype.calculateDrawingProperties=function(){this.calculateDrawingPropertiesX(),this.calculateDrawingPropertiesY(),this.xLabelNames?(this.gridLineCountX=this.xLabelNames.length,this.drawingStepSizeX=this.xAxisWidth/(this.gridLineCountX-1),this.dataStepSizeX=this.xDataRange/(this.gridLineCountX-1),this.calculateDrawingRanges(null,null,null,null)):this.calculateStepSizeX(),this.calculateStepSizeY()},e.prototype.calculateDrawingPropertiesX=function(){this.xAxisHeight=this.bottomOffset,this.xAxisWidth=this.width-this.leftOffset-this.rightOffset,this.longestLabelX=d(this.maxPlottingX,this.xAxisLabelMaxDecimals).toString().length+this.xAxisLabelPrefix.length+this.xAxisLabelSuffix.length,this.labelHeightX=this.xAxisHeight,this.longestLabelWidthX=this.longestLabelX*this.labelHeightX},e.prototype.calculateDrawingPropertiesY=function(){this.yAxisHeight=this.height-this.topOffset-this.bottomOffset,this.yAxisWidth=this.leftOffset,this.longestLabelY=d(this.maxPlottingY+this.dataStepSizeY,this.yAxisLabelMaxDecimals).toString().length+this.yAxisLabelPrefix.length+this.yAxisLabelSuffix.length},e.prototype.calculateStepSizeX=function(){var t=this.preferredLabelStepsX,i=this.orderX;this.preferredLabelStepsX.forEach((function(e,s){t[s]*=i}));for(var e=0;e<t.length;e++){var s=t[e]-this.maxX%t[e];s==t[e]&&(s=0);var h=this.minX-this.minX%t[e];s=this.maxX+s,this.gridLineCountX=(s-h)/t[e]+1,this.drawingStepSizeX=this.xAxisWidth/(this.gridLineCountX-1),this.dataStepSizeX=t[e];var a=this.drawingStepSizeX<this.longestLabelWidthX;if(!(this.gridLineCountX>this.xAxisMaxLabels||a)){this.calculateDrawingRanges(h,this.minY,s,this.maxY);break}e==t.length-1&&(this.preferredLabelStepsX.forEach((function(i,e){t[e]*=10})),e=-1)}},e.prototype.calculateStepSizeY=function(){var t=this.preferredLabelStepsY,i=this.orderY;this.preferredLabelStepsY.forEach((function(e,s){t[s]*=i}));for(var e=0;e<t.length;e++){var s=t[e]-this.maxY%t[e];s==t[e]&&(s=0);var h=this.minY-this.minY%t[e];s=this.maxY+s,this.gridLineCountY=(s-h)/t[e]+1,this.drawingStepSizeY=this.yAxisHeight/(this.gridLineCountY-1),this.dataStepSizeY=t[e],this.calculateLabelHeightYaxis();var a=this.drawingStepSizeY<this.labelHeightY;if(!(this.gridLineCountY>this.yAxisMaxLabels||a)){this.calculateDrawingRanges(this.minX,h,this.maxX,s);break}e==t.length-1&&(this.preferredLabelStepsY.forEach((function(i,e){t[e]*=10})),e=-1)}},e.prototype.drawAxis=function(){l("#fff",this.leftOffset,this.height-this.bottomOffset,this.width-this.leftOffset-this.rightOffset,this.ctx),r("#fff",this.leftOffset,this.height-this.bottomOffset,this.height-this.topOffset-this.bottomOffset,this.ctx);for(var t=0;t<this.gridLineCountY;t+=1){var i=this.topOffset+this.yAxisHeight-t*this.drawingStepSizeY,e=this.minPlottingY+this.dataStepSizeY*t;e=d(e,this.longestLabelY);var s=this.longestLabelY-e.toString().length-this.yAxisLabelPrefix.length-this.yAxisLabelSuffix.length;s>this.yAxisLabelMaxDecimals&&(s=this.yAxisLabelMaxDecimals),e=m(e,s),o(e=this.yAxisLabelPrefix+e+this.yAxisLabelSuffix,this.yAxisWidth/2,i,this.labelHeightY,"#fff",this.ctx),this.drawGridLineX&&l("#fff",this.leftOffset,i,this.width-this.leftOffset-this.rightOffset,this.ctx)}for(t=0;t<this.gridLineCountX;t+=1)i=this.leftOffset+t*this.drawingStepSizeX,this.xLabelNames?e=this.xLabelNames[t]:(e=d(e=this.minPlottingX+this.dataStepSizeX*t,this.longestLabelX),(s=this.longestLabelX-e.toString().length-this.xAxisLabelPrefix.length-this.xAxisLabelSuffix.length)>this.xAxisLabelMaxDecimals&&(s=this.xAxisLabelMaxDecimals),e=m(e,s)),e=this.xAxisLabelPrefix+e+this.xAxisLabelSuffix,s=this.xAxisHeight/2,this.equalLabelSize&&this.labelHeightX>this.labelHeightY&&(this.labelHeightX=this.labelHeightY),o(e,i,this.height-this.bottomOffset+s,this.labelHeightX,"#fff",this.ctx),this.drawGridLineY&&r("#fff",i,this.height-this.bottomOffset,this.height-this.topOffset-this.bottomOffset,this.ctx)},e.prototype.draw=function(){for(var t=0;t<this.graphs.length;t++)"line"==this.graphs[t].type?(c(this.graphs[t].xCoordinates,this.graphs[t].yCoordinates,this.graphs[t].color,this.graphs[t].linewidth,this.ctx),g(this.graphs[t].xCoordinatesHighlight,this.graphs[t].yCoordinatesHighlight,this.graphs[t].color,this.graphs[t].dataPointRadius,this.graphs[t].dataPointLinewidth,!1,this.ctx)):"shadow"==this.graphs[t].type&&(c(this.graphs[t].xCoordinates,this.graphs[t].yCoordinates,this.graphs[t].color,this.graphs[t].linewidth,this.ctx),g(this.graphs[t].xCoordinatesHighlight,this.graphs[t].yCoordinatesHighlight,this.graphs[t].color,this.graphs[t].dataPointRadius,this.graphs[t].linewidth,!0,this.ctx),f(this.graphs[t].xCoordinates,this.graphs[t].yCoordinates,this.graphs[t].shadowColor,this.bottom-this.bottomOffset,this.ctx));this.drawAxis()};var u=function(t,i,e,s,h,a,n){n.lineWidth=h,n.strokeStyle=e,n.beginPath(),n.arc(t,i,s,0,2*Math.PI,!0),n.fillStyle=a?e:null,n.fill(),n.stroke(),a||(n.strokeStyle="rgb(255, 255, 255)",n.globalCompositeOperation="destination-out",n.fillStyle="rgba(255,255,255,255)",n.lineWidth=1,n.beginPath(),n.arc(t,i,s-h/2,0,2*Math.PI,!0),n.fill(),n.stroke(),n.globalCompositeOperation="source-over")},c=function(t,i,e,s,h){h.lineWidth=s,h.strokeStyle=e;for(var a=0;a<t.length;a++)h.beginPath(),h.moveTo(t[a],i[a]),h.lineTo(t[a+1],i[a+1]),h.stroke();for(h.fillStyle=e,h.linewidth=1,e=Math.ceil(s/2)-1,a=0;a<t.length;a++)h.beginPath(),h.arc(t[a],i[a],e,0,2*Math.PI,!0),h.fill()},f=function(t,i,e,s,h){for(h.globalCompositeOperation="destination-over",h.lineWidth=1,h.strokeStyle=e,h.fillStyle=e,e=0;e<t.length;e++)h.beginPath(),h.moveTo(t[e],i[e]),h.lineTo(t[e],s),h.lineTo(t[e+1],s),h.lineTo(t[e+1],i[e+1]),h.fill(),h.stroke();h.globalCompositeOperation="source-over"};function d(t,i){var e=(t=t.toString()).indexOf("E"),s=t.indexOf("e"),h=0;return-1<s?(h=parseFloat(t.substring(s+1)),t=t.substring(0,s)):-1<e&&(h=parseFloat(t.substring(e+1)),t=t.substring(0,e)),Number(Math.round(t+"e"+(h+i))+"e-"+i)}function p(t){return Math.pow(10,Math.floor(Math.log(Math.abs(t))/Math.LN10+1e-9))}function x(t){return Math.round(Math.log(t)/Math.log(10))}function m(t,i){var e=-1==(t=t.toString()).indexOf(".");if(e&&1==i)return t;for(e&&1<i&&(t+=".",i--),e=0;e<i;e++)t+="0";return t}var b=!1;window.addEventListener("load",(function(){b=!0})),e.prototype.doWhenLoaded=function(t){b?t.bind(this)():window.addEventListener("load",function(){t.bind(this)()}.bind(this))}}).call(this)}).call(this,e(4))},function(t,i){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,i,e){},function(t,i,e){"use strict";e.r(i);e(2),e(3);var s=e(0);let h="https://antischwitzomat.glitch.me/";const a={API_URL:h,api:"https://antischwitzomat.glitch.me/measurements",API_URL:h+"notifications",NOTIFICATION_PUBLIC_KEY:"BPpC0dcJVJWCBwjKNWPJW4o75bZpfiqUtGAU3Du18npgjqtCDqfWLMbHjIkMQAbDvcuPbP5eLfL9ZDSxilOFq0I"};var n=e(1);class o extends HTMLElement{constructor(){super(),this.innerHTML=n}connectedCallback(){this.querySelector("h1")}}customElements.define("app-rooms-component",o);e(5);new class{constructor(t,i){this.routeResolver=t,this.routeRenderer=i,this.lastRoute=null,this.popStateListener=this.handlePopState.bind(this)}handlePopState(t){this.doRouting(window.location.pathname)}run(){let t=document.querySelector("base");this.basePrefix=t.getAttribute("href"),this.baseHref=t.href,window.addEventListener("popstate",this.popStateListener),this.doRouting(window.location.pathname)}destroy(){window.removeEventListener("popstate",this.popStateListener)}doRouting(t){let i=this.getRoute(t);return Promise.resolve(this.routeResolver.resolve(this.lastRoute,i,this)).then(t=>!!t&&(this.routeRenderer.render(t),this.lastRoute=i,!0))}getRoute(t){let i=t===this.baseHref,e=t.substr(0,this.basePrefix.length)===this.basePrefix;return i?"/":e?t.substring(this.basePrefix.length):t}navigate(t,i){let e=new URL(t,this.baseHref);this.doRouting(e.pathname).then(t=>{t&&window.history.pushState({},i||document.title,e.href)})}}(new class{resolve(t,i,e){switch(i){case"rooms":return new o;case"":return function(){let t=document.createElement("div");var i;t.id="dashboard",t.innerHTML=s,i=[0],t.querySelector("#output");const e=t.querySelector("#tempPlot"),h={};var n=[];!function(i){const e=t.querySelector("#gauges"),s=t.querySelector("#tempGauge"),h=t.querySelector("#humGauge"),a=t.querySelector("#presGauge");for(var o=0;o<i;o++){const i=document.createElement("div");i.classList=e.classList;const o=document.createElement("div");o.classList=s.classList;const l=document.createElement("div");l.classList=h.classList;const r=document.createElement("div");r.classList=a.classList,i.appendChild(o),i.appendChild(l),i.appendChild(r),t.insertBefore(i,t.firstChild);const g=[o,l,r];n.push(g)}}(i.length);const o=new XMLHttpRequest;o.onload=function(t){for(var s=JSON.parse(this.responseText),a=0;a<i.length;a++)h[i[a]]=new g;for(a=0;a<s.length;a++){const t=h[s[a].id];if(null==t)continue;const i=new Date(s[a].time);t.times.push(i.getTime()/1e3),t.temps.push(s[a].temperature),t.hums.push(s[a].humidity),t.press.push(s[a].pressure)}for(a=i.length-1;a>=0;a--)h[i[a]].addGaugePanel(a);for(a=0;a<s.length;a+=s.length-1||1){const t=new Date(s[a].time),e=t.getHours()+":"+t.getMinutes();h[i[0]].timeLabels.push(e)}const n=1e3*(h[i[0]].times[h[i[0]].times.length-1]-h[i[0]].times[0])/3;for(a=1;a<3;a++){const t=new Date(1e3*h[i[0]].times[0]+n*a);h[i[0]].timeLabels.splice(a,0,t.getHours()+":"+t.getMinutes())}var o=[h[i[0]].temps,h[i[0]].hums,h[i[0]].press],u=["° ","% ",""];r(h[i[0]].times,o[l],u[l]),e.onclick=function(){++l>o.length-1&&(l=0),r(h[i[0]].times,o[l],u[l])}},o.open("get",a.api),o.send();var l=0;function r(t,s,a){new Plot(e,{xAxisSize:.08,yAxisSize:.08,yAxisLabelMaxDecimals:0,yAxisMaxLabels:15,yAxisLabelSuffix:a,drawGridLineX:!1,drawGridLineY:!1,preferredLabelStepsY:[1,2,5],xLabelNames:h[i[0]].timeLabels,graphs:[{type:"shadow",x:t,y:s,xHighlight:t,yHighlight:s}]})}function g(){this.timeLabels=[],this.times=[],this.temps=[],this.hums=[],this.press=[]}return g.prototype.addGaugePanel=function(t){const i=n[t][0],e=n[t][1],s=n[t][2];null==this.temps[this.temps.length-1]&&(this.temps[this.temps.length-1]=Math.round(35*Math.random()+5),this.hums[this.hums.length-1]=Math.round(70*Math.random()+30),this.press[this.press.length-1]=Math.round(15*Math.random()+1e3));var h=Math.round(this.temps[this.temps.length-1]),a=Math.round(this.hums[this.hums.length-1]),o=Math.round(this.press[this.press.length-1]);new Gauge(i,"",h,"°",5,40,"#fff","#000").animateValue(h,800);new Gauge(e,"",a,"%",30,99,"#fff","#000").animateValue(a,800);new Gauge(s,"",o," mbar",950,1050,"#fff","#000").animateValue(o,800)},t}();default:return!1}}},new class{constructor(t){this.container=t,this.currentComponent=!1}render(t){t&&(this.currentComponent&&(this.container.innerHTML=""),this.container.appendChild(t),this.currentComponent=!0)}}(document.getElementById("content"))).run()}]);
//# sourceMappingURL=fddedfdd87bf1fde1171.bundle.js.map